
@{
    ViewBag.Title = "ThemMoiNhanVien";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="col-lg-12">
    <!--begin::Card-->
    <div class="card card-custom gutter-b example example-compact">
        <div class="card-header">
            <h3 class="card-title">Trang thêm nhân viên vào công ty.</h3>
            <div class="card-toolbar">
                <div class="example-tools justify-content-center">
                    <span class="example-toggle" data-toggle="tooltip" title="" data-original-title="View code"></span>
                    <span class="example-copy" data-toggle="tooltip" title="" data-original-title="Copy code"></span>
                </div>
            </div>
        </div>
        <!--begin::Form-->
        <form  id="act_form" method="post" action="#" enctype="multipart/form-data">
            <div class="card-body">
                <div class="form-group">
                    <label class="form-control-label">
                        Nhập tên nhân viên
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtten" name="txtten" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <div class="form-group">
                    <label class="form-control-label">
                        Nhập Địa Chỉ
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtdiachi" name="txtdiachi" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <div class="form-group">
                    <label class="form-control-label">
                        Nhập Quê quán
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtquequan" name="txtquequan" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <div class="form-group">
                    <label class="form-control-label">
                        Nhập Số Nhà.
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtchitietquequan" name="txtchitietquequan" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <div class="form-group">
                    <label class="form-control-label">
                        Chọn Chức Vụ
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtchucvu" name="txtchucvu" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <div class="form-group">
                    <label class="form-control-label">
                        Đánh Giá Nhân Viên
                        <span class="text-danger">*</span>
                    </label>
                    <input id="txtdanhgia" name="txtdanhgia" type="text" class="form-control is-valid">
                    <div class="valid-feedback">Success! You've done it.</div>
                    <span class="form-text text-muted">Example help text that remains unchanged.</span>
                </div>
                <!--begin::Code example-->
                <div class="example-code mt-10">
                    <div class="example-highlight">
                        <pre style="height:300px" class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control-label<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>Input with success <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-danger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control is-valid<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>valid-feedback<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Success! You've done it.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-text text-muted<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Example help text that remains unchanged.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control-label<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>Input with error <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-danger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control is-invalid<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>invalid-feedback<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Shucks, check the formatting of that and try again.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-text text-muted<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Example help text that remains unchanged.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-success font-weight-bold mr-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-light-success font-weight-bold<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Cancel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>
                    </div>
                </div>
                <!--end::Code example-->
            </div>
            <div class="card-footer">
                <button id="btnAdd" name="btnAdd" type="submit" class="btn btn-success font-weight-bold mr-2">Xác nhận thêm</button>
                <button type="submit" class="btn btn-light-success font-weight-bold">Đóng</button>
            </div>
        </form>
        <!--end::Form-->
    </div>
    <!--end::Card-->

</div>

<script>
    $(document).ready(function () {

        $("#btnAdd").click(function () {
            //validate dữ liệu
            var ten = $("#txtten").val();
            var diachi = $("#txtdiachi").val();
            var quequan = $("#txtquequan").val();

            if (ten == "" || diachi == "" || quequan =="") {
                alert("Vui lòng điền đầy đủ các mục có dấu * màu đỏ");
              
            }
            else {
                var form = $('#act_form')[0];
                var data = new FormData(form);
              

                $.ajax({
                    type: "POST",
                    enctype: 'multipart/form-data',
                    url: '/NhanVien/AddNewNhanVien',
                    data: data, // $("#form_act").serialize(),
                    processData: false,
                    contentType: false,
                    cache: false,
                    success: function (response) {
                        if (response == "True") {
                            alert("Thêm Mới Nhân Viên : "+ ten + "Thành Công");
                            window.location = "/NhanVien/Index";
                        }
                        
                    },
                    error: function (rs) {
                        console.log(rs);
                        //toastr["error"]("Có lỗi xảy ra trong quá trình tạo mới Khách hàng. Vui lòng thử lại sau");
                    }
                });
            }
        });
    })
 
</script>